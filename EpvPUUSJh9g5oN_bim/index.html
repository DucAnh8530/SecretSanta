<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Secret Santa Invitation</title>
	<meta name="theme-color" content="#0a2b42" />
	<style>
		:root{
			--bg1:#061524;
			--bg2:#0a2b42;

			--text:#000000;
			--muted:#e6eeff;

			--red:#ff3355;
			--green:#22c55e;
			--gold:#ffd166;
			--violet:#a78bfa;

			--shadow: 0 26px 90px rgba(0,0,0,.55);
			--stroke: rgba(255,255,255,.18);
		}

		*{ box-sizing:border-box; }
		html,body{ height:100%; }

		/* Keep the SAME page background */
		body{
			margin:0;
			font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
			color:var(--text);
			overflow-x:hidden;
			background:
				radial-gradient(1200px 700px at 15% 10%, rgba(34,197,94,.18), transparent 60%),
				radial-gradient(1000px 650px at 85% 20%, rgba(255,51,85,.16), transparent 58%),
				radial-gradient(900px 600px at 50% 110%, rgba(255,209,102,.10), transparent 60%),
				linear-gradient(160deg, var(--bg1), var(--bg2));
		}

		/* SVG snow layer */
		#snow{
			position:fixed;
			inset:0;
			pointer-events:none;
			z-index:11;
		}
		#snow .flake{
			position:absolute;
			opacity:.95;
			will-change: transform;
			contain: layout paint;
		}

		main{
			position:relative;
			z-index:3;
			min-height:100vh;
			display:grid;
			place-items:center;
			padding: 18px;
		}

		/* FULL candy cane shell */
		.candy-shell{
			width:min(1020px, 100%);
			border-radius: 34px;
			padding: 22px;
			position:relative;
			box-shadow: var(--shadow);
			background:
				repeating-linear-gradient(
					135deg,
					#ffffff 0 12px,
					#ffffff 12px 22px,
					#ff3355 22px 38px,
					#ff3355 38px 48px
				);
			isolation:isolate;
		}

		/* Bright/frosty inner */
		.candy-shell::before{
			content:"";
			position:absolute;
			inset: 12px;
			border-radius: 26px;
			background:
				radial-gradient(900px 600px at 20% 10%, rgba(255,255,255,.20), transparent 60%),
				radial-gradient(900px 600px at 80% 20%, rgba(255,255,255,.14), transparent 55%),
				linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.08));
			border:1px solid rgba(255,255,255,.22);
			z-index:0;
			backdrop-filter: blur(8px);
		}

		.content{
			position:relative;
			z-index:1;
			border-radius: 24px;
			padding: 24px;
			display:grid;
			gap:18px;
		}

		/* Header */
		.hero{ display:grid; gap:10px; }
		.tag{
			display:inline-flex; gap:10px; align-items:center;
			padding:10px 12px;
			border:1px solid var(--stroke);
			border-radius:999px;
			width: fit-content;
			background: rgba(0,0,0,.18);
			backdrop-filter: blur(10px);
			color: rgba(0, 0, 0, 0.92);
			font-size:14px;
		}
		.tag b{ color:#000000; }
		.title{
			font-size: 40px;
			margin: 0;
			letter-spacing:.2px;
			text-shadow: 0 14px 30px rgba(0,0,0,.30);
		}
		.subtitle{
			margin:0;
			color: rgba(3, 3, 3, 0.92);
			line-height:1.5;
			font-size: 16px;
			max-width: 70ch;
			text-shadow: 0 10px 22px rgba(0,0,0,.18);
		}

		/* Layout */
		.grid{
			display:grid;
			grid-template-columns: 1.15fr .85fr;
			gap:18px;
			align-items:stretch;
		}

		.panel{
			border:1px solid rgba(255,255,255,.22);
			background: rgba(255,255,255,.10);
			backdrop-filter: blur(12px);
			border-radius: 18px;
			padding: 16px;
			box-shadow: 0 18px 40px rgba(0,0,0,.18);
			position:relative;
			overflow:hidden;
		}
		.panel::after{
			content:"";
			position:absolute; inset:-60px;
			background: radial-gradient(460px 160px at 30% 0%, rgba(255,209,102,.20), transparent 70%);
			transform: rotate(12deg);
			pointer-events:none;
		}

		.panel h2{ margin:0 0 8px; font-size: 18px; }
		.panel p{ margin:0; color: rgba(0, 0, 0, 0.92); line-height:1.5; }

		.cta-row{ display:flex; gap:12px; flex-wrap:wrap; margin-top: 14px; }
		button{
			appearance:none; border:0;
			padding: 12px 14px;
			border-radius: 14px;
			cursor:pointer;
			font-weight: 950;
			letter-spacing:.2px;
			flex:1;
			min-width: 200px;
		}
		.primary{
			background: linear-gradient(180deg, #ff4d6d, #d90429);
			color:white;
			box-shadow: 0 14px 32px rgba(217,4,41,.28);
		}
		.ghost{
			background: rgba(255,255,255,.10);
			border:1px solid rgba(255,255,255,.22);
			color: #fff;
			backdrop-filter: blur(10px);
		}
		button:active{ transform: translateY(1px); }

		.result{
			margin-top: 14px;
			border-radius: 16px;
			border: 1px dashed rgba(255,209,102,.75);
			background: rgba(0,0,0,.18);
			backdrop-filter: blur(10px);
			padding: 14px;
			display:none;
		}
		.label{
			text-transform: uppercase;
			letter-spacing: .14em;
			font-size: 12px;
			font-weight: 900;
			color: rgba(0, 0, 0, 0.92);
		}
		.name{
			font-size: 38px;
			font-weight: 1000;
			margin-top: 8px;
			text-shadow: 0 14px 28px rgba(0,0,0,.30);
		}
		.hint{ margin-top: 10px; font-size: 12px; color: rgba(255,255,255,.88); }

		.rules ul{
			margin: 10px 0 0;
			padding-left: 18px;
			color: rgba(0, 0, 0, 0.92);
			line-height: 1.55;
		}
		.rules li{ margin: 6px 0; }

		.footer{
			text-align:center;
			color: rgba(255,255,255,.90);
			font-size:12px;
			padding-top: 6px;
			opacity:.95;
		}

		/* Corner ornaments */
		.orn{
			position:absolute; width:70px; height:70px; z-index:6; pointer-events:none;
			filter: drop-shadow(0 18px 26px rgba(0,0,0,.35));
		}
		.orn.tl{ top:-18px; left:-14px; transform: rotate(-10deg); }
		.orn.tr{ top:-18px; right:-14px; transform: rotate(10deg); }
		.orn.bl{ bottom:-20px; left:-14px; transform: rotate(10deg); }
		.orn.br{ bottom:-20px; right:-14px; transform: rotate(-10deg); }

		/* LIGHTS AROUND ALL SIDES */
		.edge-lights{
			position:absolute;
			inset: 6px;
			border-radius: 28px;
			pointer-events:none;
			z-index:7;
		}
		.edge-lights .wire-top,
		.edge-lights .wire-bottom{
			position:absolute; left:18px; right:18px; height:2px;
			background: linear-gradient(90deg, transparent, rgba(0,0,0,.35), transparent);
			border-radius:999px;
			opacity:.9;
		}
		.edge-lights .wire-top{ top: 18px; }
		.edge-lights .wire-bottom{ bottom: 18px; }

		.edge-lights .wire-left,
		.edge-lights .wire-right{
			position:absolute; top:18px; bottom:18px; width:2px;
			background: linear-gradient(180deg, transparent, rgba(0,0,0,.35), transparent);
			border-radius:999px;
			opacity:.9;
		}
		.edge-lights .wire-left{ left: 18px; }
		.edge-lights .wire-right{ right: 18px; }

		.bulbs-row{
			position:absolute; left:0; right:0;
			display:flex; justify-content:space-between;
			padding: 0 22px;
			height: 34px;
		}
		.bulbs-row.top{ top: 2px; }
		.bulbs-row.bottom{ bottom: 2px; }

		.bulbs-col{
			position:absolute; top:0; bottom:0;
			display:flex; flex-direction:column; justify-content:space-between;
			padding: 22px 0;
			width: 34px;
		}
		.bulbs-col.left{ left: 2px; }
		.bulbs-col.right{ right: 2px; }

		.bulb{
			width:16px; height:22px;
			border-radius: 9px 9px 10px 10px;
			position:relative;
			box-shadow: 0 10px 18px rgba(0,0,0,.35);
			opacity:.95;
			animation: twinkle 1.6s ease-in-out infinite;
			margin:auto;
		}
		.bulb::before{
			content:""; position:absolute; top:-6px; left:50%; transform:translateX(-50%);
			width:10px; height:6px; border-radius:4px 4px 2px 2px;
			background:#1f2f45;
		}
		.bulb.r{ background: var(--red); animation-duration:1.9s; }
		.bulb.g{ background: var(--green); animation-duration:1.45s; }
		.bulb.y{ background: var(--gold); animation-duration:1.75s; }
		.bulb.v{ background: var(--violet); animation-duration:2.05s; }
		@keyframes twinkle{
			0%,100%{ transform: translateY(0); filter:saturate(1); }
			50%{ transform: translateY(-1px); filter:saturate(1.2) brightness(1.08); }
		}

		canvas{ position:fixed; inset:0; pointer-events:none; z-index:10; }

		@media (max-width: 860px){
			.grid{ grid-template-columns: 1fr; }
			.title{ font-size: 34px; }
		}
		@media (max-width: 420px){
			.title{ font-size: 28px; }
			.candy-shell{ padding: 16px; border-radius: 28px; }
			.candy-shell::before{ inset: 10px; border-radius: 22px; }
			.content{ padding: 18px; }
		}
		/* Snow must NOT affect document height */
		#snow{
			position: fixed;
			inset: 0;
			pointer-events: none;
			overflow: hidden;
			z-index: 9;  /* was 2 */
		}
		main{ position: relative; z-index: 3; } /* keep as-is */
		canvas{ z-index: 10; }    
	</style>
</head>

<body>
	<!-- SVG snowflakes container -->
	<div id="snow" aria-hidden="true"></div>

	<canvas id="confetti"></canvas>

	<main>
		<section class="candy-shell">
			<!-- lights all around -->
			<div class="edge-lights" aria-hidden="true">
				<div class="wire-top"></div>
				<div class="wire-bottom"></div>
				<div class="wire-left"></div>
				<div class="wire-right"></div>

				<div class="bulbs-row top">
					<div class="bulb r"></div><div class="bulb g"></div><div class="bulb v"></div><div class="bulb y"></div>
					<div class="bulb r"></div><div class="bulb g"></div><div class="bulb v"></div><div class="bulb y"></div>
					<div class="bulb r"></div>
				</div>

				<div class="bulbs-row bottom">
					<div class="bulb y"></div><div class="bulb v"></div><div class="bulb g"></div><div class="bulb r"></div>
					<div class="bulb y"></div><div class="bulb v"></div><div class="bulb g"></div><div class="bulb r"></div>
					<div class="bulb y"></div>
				</div>

				<div class="bulbs-col left">
					<div class="bulb g"></div><div class="bulb r"></div><div class="bulb y"></div>
					<div class="bulb v"></div><div class="bulb g"></div><div class="bulb r"></div>
				</div>

				<div class="bulbs-col right">
					<div class="bulb r"></div><div class="bulb g"></div><div class="bulb v"></div>
					<div class="bulb y"></div><div class="bulb r"></div><div class="bulb g"></div>
				</div>
			</div>

			<!-- corner ornaments -->
			<svg class="orn tl" viewBox="0 0 64 64" fill="none" aria-hidden="true">
				<path d="M28 8h8" stroke="#1f2f45" stroke-width="6" stroke-linecap="round"/>
				<path d="M26 14h12" stroke="#1f2f45" stroke-width="6" stroke-linecap="round"/>
				<circle cx="32" cy="38" r="18" fill="#ff3355"/>
				<path d="M24 30c4-5 12-7 16-2" stroke="#ffffffaa" stroke-width="4" stroke-linecap="round"/>
			</svg>
			<svg class="orn tr" viewBox="0 0 64 64" fill="none" aria-hidden="true">
				<path d="M28 8h8" stroke="#1f2f45" stroke-width="6" stroke-linecap="round"/>
				<path d="M26 14h12" stroke="#1f2f45" stroke-width="6" stroke-linecap="round"/>
				<circle cx="32" cy="38" r="18" fill="#22c55e"/>
				<path d="M24 30c4-5 12-7 16-2" stroke="#ffffffaa" stroke-width="4" stroke-linecap="round"/>
			</svg>
			<svg class="orn bl" viewBox="0 0 64 64" fill="none" aria-hidden="true">
				<path d="M28 8h8" stroke="#1f2f45" stroke-width="6" stroke-linecap="round"/>
				<path d="M26 14h12" stroke="#1f2f45" stroke-width="6" stroke-linecap="round"/>
				<circle cx="32" cy="38" r="18" fill="#ffd166"/>
				<path d="M24 30c4-5 12-7 16-2" stroke="#ffffffaa" stroke-width="4" stroke-linecap="round"/>
			</svg>
			<svg class="orn br" viewBox="0 0 64 64" fill="none" aria-hidden="true">
				<path d="M28 8h8" stroke="#1f2f45" stroke-width="6" stroke-linecap="round"/>
				<path d="M26 14h12" stroke="#1f2f45" stroke-width="6" stroke-linecap="round"/>
				<circle cx="32" cy="38" r="18" fill="#a78bfa"/>
				<path d="M24 30c4-5 12-7 16-2" stroke="#ffffffaa" stroke-width="4" stroke-linecap="round"/>
			</svg>

			<div class="content">
				<header class="hero">
					<div class="tag">üéÖ Secret Santa ‚Ä¢ invitation for <b>bim</b></div>
					<h1 class="title">Welcome to the Secret Santa Party üéÑ</h1>
					<p class="subtitle">
						This is your private link. Tap the button to reveal who you‚Äôll be gifting to ‚Äî and please keep it secret ü§´
					</p>
				</header>

				<div class="grid">
					<section class="panel">
						<h2>üéÅ Your draw</h2>
						<p>When you‚Äôre ready, open your present. Confetti included.</p>

						<div class="cta-row">
							<button class="primary" id="reveal">Open my present üéÅ</button>
						</div>

						<div class="result" id="result">
							<div class="label">You will gift to</div>
							<div class="name" id="target">monika</div>
						</div>
					</section>

					<aside class="panel rules">
						<h2>‚ú® How it works</h2>
						<p>Quick reminders to keep things smooth:</p>
						<ul>
							<li>Don‚Äôt share this link with anyone.</li>
							<li>Pick something funny (or thoughtful).</li>
							<li>Budget 100 pln.</li>
							<li>Date 27.12 - 18:00.</li>
						</ul>
					</aside>
				</div>
			</div>
		</section>
	</main>

<script>
	// The only secret in this file:
	const targetName = "monika";

	// Reveal logic
	const revealBtn = document.getElementById("reveal");
	const resultBox = document.getElementById("result");

	revealBtn.addEventListener("click", () => {
		resultBox.style.display = "block";
		popConfetti();
	});

	// SVG snowflakes (bigger, visible)
	const snow = document.getElementById("snow");
	const flakes = [];
	let snowRAF;

	function snowflakeSVG(size){
		// simple, crisp flake
		return `
			<svg width="${size}" height="${size}" viewBox="0 0 64 64" fill="none" aria-hidden="true">
				<g stroke="rgba(255,255,255,.92)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
					<path d="M32 6v52"/>
					<path d="M6 32h52"/>
					<path d="M13 13l38 38"/>
					<path d="M51 13L13 51"/>

					<path d="M32 16l-5-5M32 16l5-5"/>
					<path d="M32 48l-5 5M32 48l5 5"/>

					<path d="M16 32l-5-5M16 32l-5 5"/>
					<path d="M48 32l5-5M48 32l5 5"/>

					<path d="M21 21l-6 0M21 21l0-6"/>
					<path d="M43 21l6 0M43 21l0-6"/>
					<path d="M21 43l-6 0M21 43l0 6"/>
					<path d="M43 43l6 0M43 43l0 6"/>
				</g>
			</svg>
		`;
	}

	function rand(min, max){ return Math.random() * (max - min) + min; }

	function createFlake(){
		const size = Math.round(rand(18, 42));
		const el = document.createElement("div");
		el.className = "flake";
		el.innerHTML = snowflakeSVG(size);
		snow.appendChild(el);

		const flake = {
			el,
			x: rand(0, window.innerWidth),
			y: -size,
			speed: rand(2, 5),
			swayVel: 0,
			swayForce: rand(0.02, 0.08),
			damp: rand(0.95, 0.99),
			angle: 0,
			spinSpeed: rand(0.5, 2),
			opacity: rand(0.35, 0.95)
		};
		el.style.opacity = flake.opacity;
		flakes.push(flake);
		return flake;
	}

	function updateSnow(){
		for (let i = flakes.length - 1; i >= 0; i--) {
			const f = flakes[i];
			f.y += f.speed;
			f.angle += f.spinSpeed;
			f.swayVel += (Math.random() - 0.5) * f.swayForce;
			f.swayVel *= f.damp;
			f.x += f.swayVel;
			f.el.style.transform = `translate(${f.x}px, ${f.y}px) rotate(${f.angle}deg)`;
			if (f.y > window.innerHeight + f.el.offsetHeight) {
				f.el.remove();
				flakes.splice(i, 1);
			}
		}
		snowRAF = requestAnimationFrame(updateSnow);
	}

	// create a steady amount
	const reduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
	const isMobile = Math.min(innerWidth, innerHeight) < 520;

	const FLAKES = reduce ? 0 : (isMobile ? 10 : 20);
	const SPAWN_MS = isMobile ? 600 : 500;

	// Start snow
	if (!reduce) {
		snowRAF = requestAnimationFrame(updateSnow);
		setInterval(() => {
			if (flakes.length < FLAKES) {
				createFlake();
			}
		}, SPAWN_MS);
	}

	// Confetti
	const canvas = document.getElementById('confetti');
	const ctx = canvas.getContext('2d', { alpha: true });
	let W,H,DPR=1, pieces=[], confettiRAF=0;

	function resize(){
		DPR = Math.min(2, window.devicePixelRatio || 1);
		W = innerWidth; H = innerHeight;
		canvas.width = Math.floor(W * DPR);
		canvas.height = Math.floor(H * DPR);
		canvas.style.width = W + "px";
		canvas.style.height = H + "px";
		ctx.setTransform(DPR,0,0,DPR,0,0);
	}
	addEventListener('resize', resize); resize();

	function popConfetti(){
		if (document.hidden) return;

		const isMobile = Math.min(innerWidth, innerHeight) < 520;
		const n = isMobile ? 70 : 110;

		pieces.length = 0;
		for(let i=0;i<n;i++){
			pieces.push({
				x: Math.random()*W,
				y: -20 - Math.random()*H*0.25,
				r: 3 + Math.random()*6,
				vy: 2 + Math.random()*5.5,
				vx: -2.2 + Math.random()*4.4,
				a: Math.random()*Math.PI*2,
				va: -0.25 + Math.random()*0.5,
				h: Math.random()*360
			});
		}

		let t=0;
		cancelAnimationFrame(confettiRAF);

		const anim = () => {
			if (document.hidden){ ctx.clearRect(0,0,W,H); return; }

			t++;
			ctx.clearRect(0,0,W,H);

			let write = 0;
			for (let i=0; i<pieces.length; i++){
				const p = pieces[i];
				p.x += p.vx; p.y += p.vy; p.a += p.va;

				ctx.save();
				ctx.translate(p.x,p.y);
				ctx.rotate(p.a);
				ctx.fillStyle = `hsl(${p.h}, 92%, 62%)`;
				ctx.fillRect(-p.r, -p.r, p.r*2, p.r*2);
				ctx.restore();

				if (p.y < H + 40) pieces[write++] = p;
			}
			pieces.length = write;

			if (t < 100 && pieces.length) confettiRAF = requestAnimationFrame(anim);
			else ctx.clearRect(0,0,W,H);
		};

		confettiRAF = requestAnimationFrame(anim);
	}
</script>
</body>
</html>
